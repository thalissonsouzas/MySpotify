{"ast":null,"code":"import _regeneratorRuntime from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import searchAlbumsAPI from'../services/searchAlbumsAPI';import Carregando from'./Carregando';import Resultado from'./Resultado';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchMusic=/*#__PURE__*/function(_Component){_inherits(SearchMusic,_Component);var _super=_createSuper(SearchMusic);function SearchMusic(){var _this;_classCallCheck(this,SearchMusic);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={albumList:[],clicado:false,disableButton:true,inputBusca:'',termoBusca:'',loading:false};_this.handleChange=function(_ref){var target=_ref.target;var value=target.value;var validate=value.length>1;_this.setState({disableButton:!validate,termoBusca:value,inputBusca:value,clicado:false});// const { disableButton } = this.state;\n// // console.log(value, disableButton, validate);\n};_this.buscar=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){var termoBusca,resultApi;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_this.setState({loading:true});e.preventDefault();termoBusca=_this.state.termoBusca;_context.next=5;return searchAlbumsAPI(termoBusca);case 5:resultApi=_context.sent;_this.setState({clicado:true,inputBusca:'',albumList:resultApi,loading:false});case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(SearchMusic,[{key:\"render\",value:function render(){var _this$state=this.state,disableButton=_this$state.disableButton,clicado=_this$state.clicado,termoBusca=_this$state.termoBusca,inputBusca=_this$state.inputBusca,loading=_this$state.loading,albumList=_this$state.albumList;console.log(this.state);return loading?/*#__PURE__*/_jsx(Carregando,{}):/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"inputBusca\",id:\"pesquisa\",\"data-testid\":\"search-artist-input\",onChange:this.handleChange,value:inputBusca}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"data-testid\":\"search-artist-button\",disabled:disableButton,onClick:this.buscar,children:\"Pesquisar\"}),!clicado?/*#__PURE__*/_jsx(\"p\",{}):/*#__PURE__*/_jsx(Resultado,{termoBusca:termoBusca,albumList:albumList})]});}}]);return SearchMusic;}(Component);export default SearchMusic;","map":{"version":3,"names":["React","Component","searchAlbumsAPI","Carregando","Resultado","SearchMusic","state","albumList","clicado","disableButton","inputBusca","termoBusca","loading","handleChange","target","value","validate","length","setState","buscar","e","preventDefault","resultApi","console","log"],"sources":["/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (cÃ³pia)/src/components/SearchMusic.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Carregando from './Carregando';\nimport Resultado from './Resultado';\n\nclass SearchMusic extends Component {\n  state = ({\n    albumList: [],\n    clicado: false,\n    disableButton: true,\n    inputBusca: '',\n    termoBusca: '',\n    loading: false,\n  });\n\n  handleChange = ({ target }) => {\n    const { value } = target;\n    const validate = value.length > 1;\n\n    this.setState({\n      disableButton: !validate,\n      termoBusca: value,\n      inputBusca: value,\n      clicado: false,\n    });\n    // const { disableButton } = this.state;\n    // // console.log(value, disableButton, validate);\n  };\n\n  buscar = async (e) => {\n    this.setState({\n      loading: true,\n    });\n    e.preventDefault();\n    const { termoBusca } = this.state;\n    const resultApi = await searchAlbumsAPI(termoBusca);\n    this.setState({\n      clicado: true,\n      inputBusca: '',\n      albumList: resultApi,\n      loading: false,\n\n    });\n  };\n\n  render() {\n    const { disableButton, clicado,\n      termoBusca, inputBusca, loading,\n      albumList } = this.state;\n\n    console.log(this.state);\n    return (\n      (loading ? <Carregando />\n        : (\n          <form>\n            <input\n              type=\"text\"\n              name=\"inputBusca\"\n              id=\"pesquisa\"\n              data-testid=\"search-artist-input\"\n              onChange={ this.handleChange }\n              value={ inputBusca }\n            />\n            <button\n              type=\"button\"\n              data-testid=\"search-artist-button\"\n              disabled={ disableButton }\n              onClick={ this.buscar }\n            >\n              Pesquisar\n            </button>\n            {!clicado\n              ? <p />\n              : (\n                <Resultado\n                  termoBusca={ termoBusca }\n                  albumList={ albumList }\n                />) }\n          </form>\n        )\n      )\n    );\n  }\n}\n\nexport default SearchMusic;\n"],"mappings":"w9BAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,MAAOC,gBAAe,KAAM,6BAA6B,CACzD,MAAOC,WAAU,KAAM,cAAc,CACrC,MAAOC,UAAS,KAAM,aAAa,CAAC,2FAE9BC,YAAW,+UACfC,KAAK,CAAI,CACPC,SAAS,CAAE,EAAE,CACbC,OAAO,CAAE,KAAK,CACdC,aAAa,CAAE,IAAI,CACnBC,UAAU,CAAE,EAAE,CACdC,UAAU,CAAE,EAAE,CACdC,OAAO,CAAE,KACX,CAAC,OAEDC,YAAY,CAAG,cAAgB,IAAbC,OAAM,MAANA,MAAM,CACtB,GAAQC,MAAK,CAAKD,MAAM,CAAhBC,KAAK,CACb,GAAMC,SAAQ,CAAGD,KAAK,CAACE,MAAM,CAAG,CAAC,CAEjC,MAAKC,QAAQ,CAAC,CACZT,aAAa,CAAE,CAACO,QAAQ,CACxBL,UAAU,CAAEI,KAAK,CACjBL,UAAU,CAAEK,KAAK,CACjBP,OAAO,CAAE,KACX,CAAC,CAAC,CACF;AACA;AACF,CAAC,OAEDW,MAAM,6FAAG,iBAAOC,CAAC,4IACf,MAAKF,QAAQ,CAAC,CACZN,OAAO,CAAE,IACX,CAAC,CAAC,CACFQ,CAAC,CAACC,cAAc,EAAE,CACVV,UAAU,CAAK,MAAKL,KAAK,CAAzBK,UAAU,uBACMT,gBAAe,CAACS,UAAU,CAAC,QAA7CW,SAAS,eACf,MAAKJ,QAAQ,CAAC,CACZV,OAAO,CAAE,IAAI,CACbE,UAAU,CAAE,EAAE,CACdH,SAAS,CAAEe,SAAS,CACpBV,OAAO,CAAE,KAEX,CAAC,CAAC,CAAC,qDACJ,4HAED,iBAAS,CACP,gBAEgB,IAAI,CAACN,KAAK,CAFlBG,aAAa,aAAbA,aAAa,CAAED,OAAO,aAAPA,OAAO,CAC5BG,UAAU,aAAVA,UAAU,CAAED,UAAU,aAAVA,UAAU,CAAEE,OAAO,aAAPA,OAAO,CAC/BL,SAAS,aAATA,SAAS,CAEXgB,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClB,KAAK,CAAC,CACvB,MACGM,QAAO,cAAG,KAAC,UAAU,IAAG,cAErB,qCACE,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,YAAY,CACjB,EAAE,CAAC,UAAU,CACb,cAAY,qBAAqB,CACjC,QAAQ,CAAG,IAAI,CAACC,YAAc,CAC9B,KAAK,CAAGH,UAAY,EACpB,cACF,eACE,IAAI,CAAC,QAAQ,CACb,cAAY,sBAAsB,CAClC,QAAQ,CAAGD,aAAe,CAC1B,OAAO,CAAG,IAAI,CAACU,MAAQ,UACxB,WAED,EAAS,CACR,CAACX,OAAO,cACL,YAAK,cAEL,KAAC,SAAS,EACR,UAAU,CAAGG,UAAY,CACzB,SAAS,CAAGJ,SAAW,EACtB,GAEV,CAGP,CAAC,yBA7EuBN,SAAS,EAgFnC,cAAeI,YAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}