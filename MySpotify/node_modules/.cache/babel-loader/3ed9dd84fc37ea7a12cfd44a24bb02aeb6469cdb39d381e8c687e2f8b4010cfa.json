{"ast":null,"code":"import _regeneratorRuntime from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _defineProperty from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _classCallCheck from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{createUser}from'../services/userAPI';import Carregando from'../components/Carregando';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_Component){_inherits(Login,_Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={disableButton:true,usuario:'',loading:false};_this.changeButton=function(_ref){var target=_ref.target;var name=target.name,value=target.value;// const { usuario } = this.state;\n_this.setState(_defineProperty({},name,value),function(){var usuario=_this.state.usuario;var validationButton=usuario.length<=2;_this.setState({disableButton:validationButton});});// console.log(usuario);\n};_this.saveUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(event){var usuario,history;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:event.preventDefault();usuario=_this.state.usuario;history=_this.props.history;_this.setState({loading:true});_context.next=6;return createUser({name:usuario});case 6:history.push('/search');case 7:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}();return _this;}_createClass(Login,[{key:\"render\",value:function render(){var _this$state=this.state,disableButton=_this$state.disableButton,loading=_this$state.loading;return/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"page-login\",children:loading?/*#__PURE__*/_jsx(Carregando,{}):/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"usuario\",id:\"\",\"data-testid\":\"login-name-input\",onChange:this.changeButton}),/*#__PURE__*/_jsx(\"button\",{\"data-testid\":\"login-submit-button\",disabled:disableButton,onClick:this.saveUser,children:\"Entrar\"})]})});}}]);return Login;}(Component);export default Login;","map":{"version":3,"names":["React","Component","createUser","Carregando","Login","state","disableButton","usuario","loading","changeButton","target","name","value","setState","validationButton","length","saveUser","event","preventDefault","history","props","push"],"sources":["/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (cÃ³pia)/src/pages/Login.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { createUser } from '../services/userAPI';\nimport Carregando from '../components/Carregando';\n\nclass Login extends Component {\n  state = {\n    disableButton: true,\n    usuario: '',\n    loading: false,\n  };\n\n  changeButton = ({ target }) => {\n    const { name, value } = target;\n    // const { usuario } = this.state;\n    this.setState({\n      [name]: value,\n    }, () => {\n      const { usuario } = this.state;\n      const validationButton = usuario.length <= 2;\n      this.setState({\n        disableButton: validationButton,\n      });\n    });\n    // console.log(usuario);\n  };\n\n  saveUser = async (event) => {\n    event.preventDefault();\n    const { usuario } = this.state;\n    const { history } = this.props;\n\n    this.setState({\n      loading: true,\n    });\n\n    await createUser({ name: usuario });\n    history.push('/search');\n  };\n\n  render() {\n    const { disableButton, loading } = this.state;\n\n    return (\n      <div data-testid=\"page-login\">\n        {loading ? <Carregando /> : (\n          <form> \n            \n            <input\n              type=\"text\"\n              name=\"usuario\"\n              id=\"\"\n              data-testid=\"login-name-input\"\n              onChange={ this.changeButton }\n            />\n\n            <button\n              data-testid=\"login-submit-button\"\n              disabled={ disableButton }\n              onClick={ this.saveUser }\n            >\n              Entrar\n            </button>\n          </form>\n\n        )}\n      </div>\n\n    );\n  }\n}\n\nLogin.propTypes = {\n  history: PropTypes.func,\n}.isRequired;\n\nexport default Login;\n"],"mappings":"8nCAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CAExC,OAASC,UAAU,KAAQ,qBAAqB,CAChD,MAAOC,WAAU,KAAM,0BAA0B,CAAC,2FAE5CC,MAAK,uTACTC,KAAK,CAAG,CACNC,aAAa,CAAE,IAAI,CACnBC,OAAO,CAAE,EAAE,CACXC,OAAO,CAAE,KACX,CAAC,OAEDC,YAAY,CAAG,cAAgB,IAAbC,OAAM,MAANA,MAAM,CACtB,GAAQC,KAAI,CAAYD,MAAM,CAAtBC,IAAI,CAAEC,KAAK,CAAKF,MAAM,CAAhBE,KAAK,CACnB;AACA,MAAKC,QAAQ,oBACVF,IAAI,CAAGC,KAAK,EACZ,UAAM,CACP,GAAQL,QAAO,CAAK,MAAKF,KAAK,CAAtBE,OAAO,CACf,GAAMO,iBAAgB,CAAGP,OAAO,CAACQ,MAAM,EAAI,CAAC,CAC5C,MAAKF,QAAQ,CAAC,CACZP,aAAa,CAAEQ,gBACjB,CAAC,CAAC,CACJ,CAAC,CAAC,CACF;AACF,CAAC,OAEDE,QAAQ,6FAAG,iBAAOC,KAAK,uIACrBA,KAAK,CAACC,cAAc,EAAE,CACdX,OAAO,CAAK,MAAKF,KAAK,CAAtBE,OAAO,CACPY,OAAO,CAAK,MAAKC,KAAK,CAAtBD,OAAO,CAEf,MAAKN,QAAQ,CAAC,CACZL,OAAO,CAAE,IACX,CAAC,CAAC,CAAC,sBAEGN,WAAU,CAAC,CAAES,IAAI,CAAEJ,OAAQ,CAAC,CAAC,QACnCY,OAAO,CAACE,IAAI,CAAC,SAAS,CAAC,CAAC,qDACzB,sHAED,iBAAS,CACP,gBAAmC,IAAI,CAAChB,KAAK,CAArCC,aAAa,aAAbA,aAAa,CAAEE,OAAO,aAAPA,OAAO,CAE9B,mBACE,YAAK,cAAY,YAAY,UAC1BA,OAAO,cAAG,KAAC,UAAU,IAAG,cACvB,qCAEE,cACE,IAAI,CAAC,MAAM,CACX,IAAI,CAAC,SAAS,CACd,EAAE,CAAC,EAAE,CACL,cAAY,kBAAkB,CAC9B,QAAQ,CAAG,IAAI,CAACC,YAAc,EAC9B,cAEF,eACE,cAAY,qBAAqB,CACjC,QAAQ,CAAGH,aAAe,CAC1B,OAAO,CAAG,IAAI,CAACU,QAAU,UAC1B,QAED,EAAS,GAGZ,EACG,CAGV,CAAC,mBAhEiBf,SAAS,EAuE7B,cAAeG,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}