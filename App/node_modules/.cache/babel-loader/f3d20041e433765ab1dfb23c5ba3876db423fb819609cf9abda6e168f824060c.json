{"ast":null,"code":"var _jsxFileName = \"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/src/components/SearchMusic.jsx\";\nimport React, { Component } from 'react';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Carregando from './Carregando';\nimport Resultado from './Resultado';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass SearchMusic extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      albumList: [],\n      clicado: false,\n      disableButton: true,\n      inputBusca: '',\n      termoBusca: '',\n      loading: false\n    };\n    this.handleChange = _ref => {\n      let {\n        target\n      } = _ref;\n      const {\n        value\n      } = target;\n      const validate = value.length > 1;\n      this.setState({\n        disableButton: !validate,\n        termoBusca: value,\n        inputBusca: value,\n        clicado: false\n      });\n      // const { disableButton } = this.state;\n      // // console.log(value, disableButton, validate);\n    };\n    this.buscar = async e => {\n      this.setState({\n        loading: true\n      });\n      e.preventDefault();\n      const {\n        termoBusca\n      } = this.state;\n      const resultApi = await searchAlbumsAPI(termoBusca);\n      this.setState({\n        clicado: true,\n        inputBusca: '',\n        albumList: resultApi,\n        loading: false\n      });\n    };\n  }\n  render() {\n    const {\n      disableButton,\n      clicado,\n      termoBusca,\n      inputBusca,\n      loading,\n      albumList\n    } = this.state;\n    console.log(this.state);\n    return loading ? /*#__PURE__*/_jsxDEV(Carregando, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"inputBusca\",\n        id: \"pesquisa\",\n        \"data-testid\": \"search-artist-input\",\n        onChange: this.handleChange,\n        value: inputBusca\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        \"data-testid\": \"search-artist-button\",\n        disabled: disableButton,\n        onClick: this.buscar,\n        children: \"Pesquisar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this), !clicado ? /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(Resultado, {\n        termoBusca: termoBusca,\n        albumList: albumList\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }, this);\n  }\n}\nexport default SearchMusic;","map":{"version":3,"names":["React","Component","searchAlbumsAPI","Carregando","Resultado","SearchMusic","state","albumList","clicado","disableButton","inputBusca","termoBusca","loading","handleChange","target","value","validate","length","setState","buscar","e","preventDefault","resultApi","render","console","log"],"sources":["/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (cÃ³pia)/src/components/SearchMusic.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport searchAlbumsAPI from '../services/searchAlbumsAPI';\nimport Carregando from './Carregando';\nimport Resultado from './Resultado';\n\nclass SearchMusic extends Component {\n  state = ({\n    albumList: [],\n    clicado: false,\n    disableButton: true,\n    inputBusca: '',\n    termoBusca: '',\n    loading: false,\n  });\n\n  handleChange = ({ target }) => {\n    const { value } = target;\n    const validate = value.length > 1;\n\n    this.setState({\n      disableButton: !validate,\n      termoBusca: value,\n      inputBusca: value,\n      clicado: false,\n    });\n    // const { disableButton } = this.state;\n    // // console.log(value, disableButton, validate);\n  };\n\n  buscar = async (e) => {\n    this.setState({\n      loading: true,\n    });\n    e.preventDefault();\n    const { termoBusca } = this.state;\n    const resultApi = await searchAlbumsAPI(termoBusca);\n    this.setState({\n      clicado: true,\n      inputBusca: '',\n      albumList: resultApi,\n      loading: false,\n\n    });\n  };\n\n  render() {\n    const { disableButton, clicado,\n      termoBusca, inputBusca, loading,\n      albumList } = this.state;\n\n    console.log(this.state);\n    return (\n      (loading ? <Carregando />\n        : (\n          <form>\n            <input\n              type=\"text\"\n              name=\"inputBusca\"\n              id=\"pesquisa\"\n              data-testid=\"search-artist-input\"\n              onChange={ this.handleChange }\n              value={ inputBusca }\n            />\n            <button\n              type=\"button\"\n              data-testid=\"search-artist-button\"\n              disabled={ disableButton }\n              onClick={ this.buscar }\n            >\n              Pesquisar\n            </button>\n            {!clicado\n              ? <p />\n              : (\n                <Resultado\n                  termoBusca={ termoBusca }\n                  albumList={ albumList }\n                />) }\n          </form>\n        )\n      )\n    );\n  }\n}\n\nexport default SearchMusic;\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,eAAe,MAAM,6BAA6B;AACzD,OAAOC,UAAU,MAAM,cAAc;AACrC,OAAOC,SAAS,MAAM,aAAa;AAAC;AAEpC,MAAMC,WAAW,SAASJ,SAAS,CAAC;EAAA;IAAA;IAAA,KAClCK,KAAK,GAAI;MACPC,SAAS,EAAE,EAAE;MACbC,OAAO,EAAE,KAAK;MACdC,aAAa,EAAE,IAAI;MACnBC,UAAU,EAAE,EAAE;MACdC,UAAU,EAAE,EAAE;MACdC,OAAO,EAAE;IACX,CAAC;IAAA,KAEDC,YAAY,GAAG,QAAgB;MAAA,IAAf;QAAEC;MAAO,CAAC;MACxB,MAAM;QAAEC;MAAM,CAAC,GAAGD,MAAM;MACxB,MAAME,QAAQ,GAAGD,KAAK,CAACE,MAAM,GAAG,CAAC;MAEjC,IAAI,CAACC,QAAQ,CAAC;QACZT,aAAa,EAAE,CAACO,QAAQ;QACxBL,UAAU,EAAEI,KAAK;QACjBL,UAAU,EAAEK,KAAK;QACjBP,OAAO,EAAE;MACX,CAAC,CAAC;MACF;MACA;IACF,CAAC;IAAA,KAEDW,MAAM,GAAG,MAAOC,CAAC,IAAK;MACpB,IAAI,CAACF,QAAQ,CAAC;QACZN,OAAO,EAAE;MACX,CAAC,CAAC;MACFQ,CAAC,CAACC,cAAc,EAAE;MAClB,MAAM;QAAEV;MAAW,CAAC,GAAG,IAAI,CAACL,KAAK;MACjC,MAAMgB,SAAS,GAAG,MAAMpB,eAAe,CAACS,UAAU,CAAC;MACnD,IAAI,CAACO,QAAQ,CAAC;QACZV,OAAO,EAAE,IAAI;QACbE,UAAU,EAAE,EAAE;QACdH,SAAS,EAAEe,SAAS;QACpBV,OAAO,EAAE;MAEX,CAAC,CAAC;IACJ,CAAC;EAAA;EAEDW,MAAM,GAAG;IACP,MAAM;MAAEd,aAAa;MAAED,OAAO;MAC5BG,UAAU;MAAED,UAAU;MAAEE,OAAO;MAC/BL;IAAU,CAAC,GAAG,IAAI,CAACD,KAAK;IAE1BkB,OAAO,CAACC,GAAG,CAAC,IAAI,CAACnB,KAAK,CAAC;IACvB,OACGM,OAAO,gBAAG,QAAC,UAAU;MAAA;MAAA;MAAA;IAAA,QAAG,gBAErB;MAAA,wBACE;QACE,IAAI,EAAC,MAAM;QACX,IAAI,EAAC,YAAY;QACjB,EAAE,EAAC,UAAU;QACb,eAAY,qBAAqB;QACjC,QAAQ,EAAG,IAAI,CAACC,YAAc;QAC9B,KAAK,EAAGH;MAAY;QAAA;QAAA;QAAA;MAAA,QACpB,eACF;QACE,IAAI,EAAC,QAAQ;QACb,eAAY,sBAAsB;QAClC,QAAQ,EAAGD,aAAe;QAC1B,OAAO,EAAG,IAAI,CAACU,MAAQ;QAAA,UACxB;MAED;QAAA;QAAA;QAAA;MAAA,QAAS,EACR,CAACX,OAAO,gBACL;QAAA;QAAA;QAAA;MAAA,QAAK,gBAEL,QAAC,SAAS;QACR,UAAU,EAAGG,UAAY;QACzB,SAAS,EAAGJ;MAAW;QAAA;QAAA;QAAA;MAAA,QACtB;IAAA;MAAA;MAAA;MAAA;IAAA,QAEV;EAGP;AACF;AAEA,eAAeF,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}