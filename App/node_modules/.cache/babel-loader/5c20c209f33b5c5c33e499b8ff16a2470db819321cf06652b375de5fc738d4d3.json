{"ast":null,"code":"import _objectSpread from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (c\\xF3pia)/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import Header from'../components/Header';import MusicsCard from'../components/MusicsCard';import getMusics from'../services/musicsAPI';import Carregando from'../components/Carregando';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Album=/*#__PURE__*/function(_Component){_inherits(Album,_Component);var _super=_createSuper(Album);function Album(){var _this;_classCallCheck(this,Album);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={loading:true,musicasAlbum:[]};_this.retornaMusicas=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var id,musicas;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:id=_this.props.match.params.id;console.log(id);_context.next=4;return getMusics(id);case 4:musicas=_context.sent;console.log(musicas);_this.setState({musicasAlbum:musicas,loading:false});case 7:case\"end\":return _context.stop();}},_callee);}));return _this;}_createClass(Album,[{key:\"componentDidMount\",value:function componentDidMount(){this.retornaMusicas();}},{key:\"render\",value:function render(){var _this$state=this.state,musicasAlbum=_this$state.musicasAlbum,loading=_this$state.loading;return/*#__PURE__*/_jsxs(\"div\",{\"data-testid\":\"page-album\",children:[/*#__PURE__*/_jsx(Header,{}),loading&&/*#__PURE__*/_jsx(Carregando,{}),/*#__PURE__*/_jsx(\"section\",{children:musicasAlbum.map(function(musica,i){if(i===0){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h2\",{\"data-testid\":\"artist-name\",children:musica.artistName}),/*#__PURE__*/_jsx(\"img\",{src:musica.artworkUrl100,alt:\"Capa do \\xC1lbum\"}),/*#__PURE__*/_jsx(\"p\",{\"data-testid\":\"album-name\",children:musica.collectionName})]},musica.collectionId);}return/*#__PURE__*/_jsx(MusicsCard,_objectSpread({},musica),musica.trackId);})})]});}}]);return Album;}(Component);export default Album;","map":{"version":3,"names":["React","Component","Header","MusicsCard","getMusics","Carregando","Album","state","loading","musicasAlbum","retornaMusicas","id","props","match","params","console","log","musicas","setState","map","musica","i","artistName","artworkUrl100","collectionName","collectionId","trackId"],"sources":["/home/thalisson/trybe/projetos/frontend/sd-030-a-project-trybetunes (cópia)/src/pages/Album.jsx"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Header from '../components/Header';\nimport MusicsCard from '../components/MusicsCard';\nimport getMusics from '../services/musicsAPI';\nimport Carregando from '../components/Carregando';\n\nclass Album extends Component {\n  state = ({\n    loading: true,\n    musicasAlbum: [],\n  });\n\n  componentDidMount() {\n    this.retornaMusicas();\n  }\n\n  retornaMusicas = async () => {\n    const { match: { params: { id } } } = this.props;\n    console.log(id);\n    const musicas = await getMusics(id);\n    console.log(musicas);\n    this.setState({\n      musicasAlbum: musicas,\n      loading: false,\n    });\n  };\n\n  render() {\n    const { musicasAlbum, loading } = this.state;\n    return (\n      <div data-testid=\"page-album\">\n        <Header />\n        {loading && <Carregando />}\n        <section>\n          {musicasAlbum.map((musica, i) => {\n            if (i === 0) {\n              return (\n                <div key={ musica.collectionId }>\n                  <h2 data-testid=\"artist-name\">{musica.artistName}</h2>\n                  <img src={ musica.artworkUrl100 } alt=\"Capa do Álbum\" />\n                  <p data-testid=\"album-name\">{musica.collectionName}</p>\n                </div>\n              );\n            }\n            return (\n              <MusicsCard\n                key={ musica.trackId }\n                { ...musica }\n              />\n            );\n          })}\n        </section>\n      </div>\n    );\n  }\n}\n\nAlbum.propTypes = {\n  match: PropTypes.shape({\n    params: PropTypes.shape({\n      id: PropTypes.string,\n    }),\n  }) }.isRequired;\n\nexport default Album;\n"],"mappings":"2nCAAA,MAAOA,MAAK,EAAIC,SAAS,KAAQ,OAAO,CAExC,MAAOC,OAAM,KAAM,sBAAsB,CACzC,MAAOC,WAAU,KAAM,0BAA0B,CACjD,MAAOC,UAAS,KAAM,uBAAuB,CAC7C,MAAOC,WAAU,KAAM,0BAA0B,CAAC,2FAE5CC,MAAK,uTACTC,KAAK,CAAI,CACPC,OAAO,CAAE,IAAI,CACbC,YAAY,CAAE,EAChB,CAAC,OAMDC,cAAc,wEAAG,mJACYC,EAAE,CAAS,MAAKC,KAAK,CAAxCC,KAAK,CAAIC,MAAM,CAAIH,EAAE,CAC7BI,OAAO,CAACC,GAAG,CAACL,EAAE,CAAC,CAAC,sBACMP,UAAS,CAACO,EAAE,CAAC,QAA7BM,OAAO,eACbF,OAAO,CAACC,GAAG,CAACC,OAAO,CAAC,CACpB,MAAKC,QAAQ,CAAC,CACZT,YAAY,CAAEQ,OAAO,CACrBT,OAAO,CAAE,KACX,CAAC,CAAC,CAAC,qDACJ,oEAbD,4BAAoB,CAClB,IAAI,CAACE,cAAc,EAAE,CACvB,CAAC,sBAaD,iBAAS,CACP,gBAAkC,IAAI,CAACH,KAAK,CAApCE,YAAY,aAAZA,YAAY,CAAED,OAAO,aAAPA,OAAO,CAC7B,mBACE,aAAK,cAAY,YAAY,wBAC3B,KAAC,MAAM,IAAG,CACTA,OAAO,eAAI,KAAC,UAAU,IAAG,cAC1B,yBACGC,YAAY,CAACU,GAAG,CAAC,SAACC,MAAM,CAAEC,CAAC,CAAK,CAC/B,GAAIA,CAAC,GAAK,CAAC,CAAE,CACX,mBACE,oCACE,WAAI,cAAY,aAAa,UAAED,MAAM,CAACE,UAAU,EAAM,cACtD,YAAK,GAAG,CAAGF,MAAM,CAACG,aAAe,CAAC,GAAG,CAAC,kBAAe,EAAG,cACxD,UAAG,cAAY,YAAY,UAAEH,MAAM,CAACI,cAAc,EAAK,GAH9CJ,MAAM,CAACK,YAAY,CAIxB,CAEV,CACA,mBACE,KAAC,UAAU,kBAEJL,MAAM,EADLA,MAAM,CAACM,OAAO,CAEpB,CAEN,CAAC,CAAC,EACM,GACN,CAEV,CAAC,mBAhDiBzB,SAAS,EA0D7B,cAAeK,MAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}